# Путешествие дня

Приложение предлагает купить тур по определённой цене с помощью двух способов:
1. Обычная оплата по дебетовой карте
2. Уникальная технология: выдача кредита по данным банковской карты

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:
* сервису платежей (далее - Payment Gate)
* кредитному сервису (далее - Credit Gate)

Приложение должно в собственной СУБД сохранять информацию о том, каким способом был совершён платёж и успешно ли он был совершён (при этом данные карт сохранять не допускается).

## Начало работы

Запуск проекта подразумевает его наличие локальном пк. Для этого необходимо:
1. Установить Git (распределённая система управления версиями), установка осуществляется с официального сайта [git](https://git-scm.com/downloads)
выбираем используемую операционную систему и скачиваем установщик (либо используем команды для установки);
2. После установки необходимо в терминале Linux либо в командной строке Windows прописать следующую команду: 


````git clone https://github.com/astudent1234d/DiplomQA.git````

3. После проделанных действий на локальной машине появится папка DiplomQA.

Для запуска проекта и проведения тестов нам понадобятся следующее ПО:

1. [IntelliJ IDEA Community](https://www.jetbrains.com/ru-ru/idea/download/#section=linux); 
2. Java 11 (скачивается в IntelliJ IDEA Community)
3. Firefox или Google Chrome
4. Docker (добавляется плагином в IntelliJ IDEA Community)

## Тестирование приложения

1. Открываем ранее полученный проект в IntelliJ IDEA Community;
2. Запускаем контейнеры БД и Node командой: docker-compose up -d --force-recreate;
3. Проверяем, что контейнеры запустились командой docker-compose ps.

### Для тестирования с БД MySQL

1. Запускаем приложение командой в терминале:

````java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar ./artifacts/aqa-shop.jar```` 

Примечание:
При запуске тестов возможно возникновение ошибки содержащий текст: 
````./gradlew: Permission denied````
Для исправления данной ошибки необходимо перед запуском тестов ввести команду:
````chmod +x gradlew```` 

2. Запуск тестов осуществляется командой: 

````./gradlew clean test -Durl="jdbc:mysql://localhost:3306/app" -Duser="app" -Dpassword="pass" --info````

3. Формирование отчетов осуществляется командой:

````./gradlew allureReport```` 
Примечание: возможно в первый раз нужно будет сначала выполнить команду: 

````./gradlew allureServe```` , для формирования нужных файлов)
4. Оцениваем результаты тестирования.

### Для тестирования с БД PostgreSQL

1. Запускаем приложение командой в терминале:

````java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar ./artifacts/aqa-shop.jar```` 

Примечание:
При запуске тестов возможно возникновение ошибки содержащий текст: 
````./gradlew: Permission denied````
Для исправления данной ошибки необходимо перед запуском тестов ввести команду:
````chmod +x gradlew```` 

2. Запуск тестов осуществляется командой: 

````./gradlew clean test -Durl="jdbc:postgresql://localhost:5432/app" -Duser="app" -Dpassword="pass" --info````

3. Формирование отчетов осуществляется командой:

````./gradlew allureReport```` 
Примечание: возможно в первый раз нужно будет сначала выполнить команду: 

````./gradlew allureServe```` , для формирования нужных файлов)
4. Оцениваем результаты тестирования.

